var p={};/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var S;function L(){if(S)return p;S=1,p.parse=b,p.serialize=T;var o=Object.prototype.toString,i=Object.prototype.hasOwnProperty,r=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,s=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/,f=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,_=/^[\u0020-\u003A\u003D-\u007E]*$/;function b(t,a){if(typeof t!="string")throw new TypeError("argument str must be a string");var e={},c=t.length;if(c<2)return e;var d=a&&a.decode||A,n=0,u=0,h=0;do{if(u=t.indexOf("=",n),u===-1)break;if(h=t.indexOf(";",n),h===-1)h=c;else if(u>h){n=t.lastIndexOf(";",u-1)+1;continue}var l=m(t,n,u),w=y(t,u,l),E=t.slice(l,w);if(!i.call(e,E)){var g=m(t,u+1,h),C=y(t,h,g);t.charCodeAt(g)===34&&t.charCodeAt(C-1)===34&&(g++,C--);var N=t.slice(g,C);e[E]=D(N,d)}n=h+1}while(n<c);return e}function m(t,a,e){do{var c=t.charCodeAt(a);if(c!==32&&c!==9)return a}while(++a<e);return e}function y(t,a,e){for(;a>e;){var c=t.charCodeAt(--a);if(c!==32&&c!==9)return a+1}return e}function T(t,a,e){var c=e&&e.encode||encodeURIComponent;if(typeof c!="function")throw new TypeError("option encode is invalid");if(!r.test(t))throw new TypeError("argument name is invalid");var d=c(a);if(!s.test(d))throw new TypeError("argument val is invalid");var n=t+"="+d;if(!e)return n;if(e.maxAge!=null){var u=Math.floor(e.maxAge);if(!isFinite(u))throw new TypeError("option maxAge is invalid");n+="; Max-Age="+u}if(e.domain){if(!f.test(e.domain))throw new TypeError("option domain is invalid");n+="; Domain="+e.domain}if(e.path){if(!_.test(e.path))throw new TypeError("option path is invalid");n+="; Path="+e.path}if(e.expires){var h=e.expires;if(!j(h)||isNaN(h.valueOf()))throw new TypeError("option expires is invalid");n+="; Expires="+h.toUTCString()}if(e.httpOnly&&(n+="; HttpOnly"),e.secure&&(n+="; Secure"),e.partitioned&&(n+="; Partitioned"),e.priority){var l=typeof e.priority=="string"?e.priority.toLowerCase():e.priority;switch(l){case"low":n+="; Priority=Low";break;case"medium":n+="; Priority=Medium";break;case"high":n+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(e.sameSite){var w=typeof e.sameSite=="string"?e.sameSite.toLowerCase():e.sameSite;switch(w){case!0:n+="; SameSite=Strict";break;case"lax":n+="; SameSite=Lax";break;case"strict":n+="; SameSite=Strict";break;case"none":n+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return n}function A(t){return t.indexOf("%")!==-1?decodeURIComponent(t):t}function j(t){return o.call(t)==="[object Date]"}function D(t,a){try{return a(t)}catch{return t}}return p}var O=L();function x(){const o=typeof window>"u"?void 0:window.TEST_HAS_DOCUMENT_COOKIE;return typeof o=="boolean"?o:typeof document=="object"&&typeof document.cookie=="string"}function I(o){return typeof o=="string"?O.parse(o):typeof o=="object"&&o!==null?o:{}}function v(o,i={}){const r=U(o);if(!i.doNotParse)try{return JSON.parse(r)}catch{}return o}function U(o){return o&&o[0]==="j"&&o[1]===":"?o.substr(2):o}class P{constructor(i,r={}){this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.update=()=>{if(!this.HAS_DOCUMENT_COOKIE)return;const f=this.cookies;this.cookies=O.parse(document.cookie),this._checkChanges(f)};const s=typeof document>"u"?"":document.cookie;this.cookies=I(i||s),this.defaultSetOptions=r,this.HAS_DOCUMENT_COOKIE=x()}_emitChange(i){for(let r=0;r<this.changeListeners.length;++r)this.changeListeners[r](i)}_checkChanges(i){new Set(Object.keys(i).concat(Object.keys(this.cookies))).forEach(s=>{i[s]!==this.cookies[s]&&this._emitChange({name:s,value:v(this.cookies[s])})})}_startPolling(){this.pollingInterval=setInterval(this.update,300)}_stopPolling(){this.pollingInterval&&clearInterval(this.pollingInterval)}get(i,r={}){return r.doNotUpdate||this.update(),v(this.cookies[i],r)}getAll(i={}){i.doNotUpdate||this.update();const r={};for(let s in this.cookies)r[s]=v(this.cookies[s],i);return r}set(i,r,s){s?s=Object.assign(Object.assign({},this.defaultSetOptions),s):s=this.defaultSetOptions;const f=typeof r=="string"?r:JSON.stringify(r);this.cookies=Object.assign(Object.assign({},this.cookies),{[i]:f}),this.HAS_DOCUMENT_COOKIE&&(document.cookie=O.serialize(i,f,s)),this._emitChange({name:i,value:r,options:s})}remove(i,r){const s=r=Object.assign(Object.assign(Object.assign({},this.defaultSetOptions),r),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=Object.assign({},this.cookies),delete this.cookies[i],this.HAS_DOCUMENT_COOKIE&&(document.cookie=O.serialize(i,"",s)),this._emitChange({name:i,value:void 0,options:r})}addChangeListener(i){this.changeListeners.push(i),this.HAS_DOCUMENT_COOKIE&&this.changeListeners.length===1&&(typeof window=="object"&&"cookieStore"in window?window.cookieStore.addEventListener("change",this.update):this._startPolling())}removeChangeListener(i){const r=this.changeListeners.indexOf(i);r>=0&&this.changeListeners.splice(r,1),this.HAS_DOCUMENT_COOKIE&&this.changeListeners.length===0&&(typeof window=="object"&&"cookieStore"in window?window.cookieStore.removeEventListener("change",this.update):this._stopPolling())}}const k=new P,z=()=>k.get("accessToken"),M=(o,i)=>k.set("accessToken",o,{...i}),H=()=>k.remove("accessToken",{path:"/"}),K=()=>k.remove("refresh-token",{path:"/"});export{K as a,z as g,H as r,M as s};
