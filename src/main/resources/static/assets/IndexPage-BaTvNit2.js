import{u as h,R as o,b as u,l as g,r as j,j as e}from"./index-DgvhuQLs.js";import{a as N}from"./index-CHcUfME0.js";import{I as b}from"./index-Bonc72oP.js";import{M as v}from"./index-CmTjqX1u.js";import{M as y}from"./MenuBar-DzkljZ6U.js";import{i as w,N as I}from"./NotificationIcon-CFXwNBzz.js";import{g as k,r as C,a as M}from"./cookie-BNspsx3t.js";import"./iconBase-BvS4BhiP.js";import"./index-B-_s05js.js";import"./index-DgNNhwAx.js";import"./index-BDdqncIb.js";import"./index-C8lUTx5V.js";function K(){const t=h(),[s,n]=o(u),[$,c]=o(w),[D,d]=o(g);c(!1);const l=window.sessionStorage.getItem("userId");j.useEffect(()=>{(async()=>{try{if(l){const a={userId:l},m=k(),i=await N.get("/api/user",{params:a,headers:{Authorization:`Bearer ${m}`}}),r=i.data.resultData,p=r.phone.replace(/[^0-9]/g,"").replace(/^(\d{0,3})(\d{0,4})(\d{0,4})$/g,"$1-$2-$3").replace(/(-{1,2})$/g,""),f=r.point.toLocaleString("ko-KR");console.log(r),console.log(i),n({...r,phone:p,point:f})}}catch(a){console.log(a)}})()},[]);const x=()=>{C("/"),M("/"),window.sessionStorage.removeItem("userId"),d(!1),t("/auth")};return e.jsxs("div",{className:"flex w-full h-dvh items-center overflow-x-hidden overflow-y-scroll scrollbar-hide",children:[e.jsx(I,{}),e.jsxs("div",{className:"absolute top-0 left-0 w-full h-10% flex justify-between items-center px-3 py-5 border-b-2 border-gray border-opacity-70 bg-white",children:[e.jsx(b,{className:"text-3xl",onClick:()=>t(-1)}),e.jsx("span",{className:"text-xl font-semibold",children:"내 정보"}),e.jsx("span",{children:" "})]}),e.jsxs("div",{className:"flex flex-col h-dvh justify-around mt-48 gap-10 pl-24",children:[e.jsxs("div",{className:"w-full flex flex-col items-center gap-4",children:[s.pic!==null?e.jsx("img",{src:s.pic,alt:"프로필 이미지",className:"w-32 rounded-full bg-auto"}):e.jsx("img",{src:"/profile.jpeg",alt:"프로필 이미지",className:"w-32 rounded-full bg-auto"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"pr-3",children:"사용가능 포인트"}),e.jsx("span",{className:"font-bold text-2xl",children:s.point})]}),e.jsxs("span",{className:"flex items-center gap-2 px-3 py-1 border-2 border-gray rounded-xl",children:[e.jsx(v,{className:"text-xl"}),s.email]})]}),e.jsx("div",{className:"h-1/3 flex justify-center items-center",children:e.jsxs("div",{className:"flex gap-5 items-center",children:[e.jsxs("div",{className:"flex flex-col gap-6 font-thin text-lg h-full text-darkGray",children:[e.jsx("span",{children:"이름"}),e.jsx("span",{children:"아이디"}),e.jsx("span",{children:"소속"}),e.jsx("span",{children:"휴대폰"})]}),e.jsxs("div",{className:"flex flex-col gap-6 font-medium text-lg h-full",children:[e.jsx("span",{children:s.name}),e.jsx("span",{children:s.uid}),e.jsx("span",{children:s.companyName}),e.jsx("span",{children:s.phone})]})]})}),e.jsxs("div",{className:"flex justify-center gap-5 mb-2",children:[e.jsx("div",{onClick:()=>t("/user/userInfo/edit"),className:"px-3 py-1 bg-primary rounded-lg text-white font-semibold text-center cursor-pointer",children:"회원정보 수정"}),e.jsx("div",{onClick:()=>t("/auth/editpw"),className:"px-3 py-1 bg-primary rounded-lg text-white font-semibold text-center cursor-pointer",children:"비밀번호 변경"})]}),e.jsx("div",{onClick:x,className:"flex justify-center text-darkGray underline font-bold mb-32 cursor-pointer",children:"로그아웃"})]}),e.jsx(y,{})]})}export{K as default};
