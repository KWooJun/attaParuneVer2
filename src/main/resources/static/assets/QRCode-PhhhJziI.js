import{R as u,t as N,v as $,g as y,r as l,j as e}from"./index-DLHo9G1O.js";import{Q as b}from"./index-DJbha4gV.js";import{M as w}from"./MenuBar-B5mfqGNS.js";import{a as f}from"./index-CHcUfME0.js";import"./index-D838IkNx.js";import"./iconBase-7BRcTMO3.js";import"./index-jBz3tSDp.js";const D=()=>{var d,x,m;const[c,p]=u(N),[n,h]=u($),r=y(),g=sessionStorage.getItem("userId"),[I,j]=l.useState({couponW:0,visualH:0,infoH:0}),v=()=>{const o=document.getElementById("visual"),s=o.clientWidth,a=document.getElementById("info"),t=o.clientHeight,i=a.clientHeight;o.style.clipPath=`path('M0 0 L0 ${t-10} Q10 ${t-10} 10 ${t} L ${s-10} ${t} Q${s-10} ${t-10} ${s} ${t-10} L${s} 0 Z')`,a.style.clipPath=`path('M10 0 Q10 10 0 10 L0 ${i} L${s} ${i} L${s} 10 Q${s-10} 10 ${s-10} 0 Z')`};return l.useEffect(()=>{v()},[c]),l.useEffect(()=>{const o=()=>{const s=document.getElementById("visual"),a=document.getElementById("info");if(s&&a){const t=s.clientWidth,i=s.clientHeight,k=a.clientHeight;j({couponW:t,visualH:i,infoH:k})}};return o(),window.addEventListener("resize",o),()=>{window.removeEventListener("resize",o)}},[]),l.useEffect(()=>{const o={ticketId:c},s={userId:g};c===0?(async()=>{try{const t=await f.get("/api/order/ticket/ticketOne",{userParams:s,headers:{Authorization:`Bearer ${r}`}});console.log(t);const i=t.data.resultData.ticketId;console.log(i),p(i)}catch(t){console.log(t)}})():(async()=>{try{const t=await f.get("/api/order/ticket",{params:o,headers:{Authorization:`Bearer ${r}`}});console.log(t.data.resultData);const i=t.data.resultData.ticket;h({...i})}catch(t){console.log(t)}})()},[c]),e.jsxs("div",{className:"flex flex-col w-full h-dvh px-10 mt-28",children:[e.jsx("section",{id:"visual",children:e.jsxs("div",{className:"gap-4 pb-4 flex flex-col items-center justify-center bg-gray rounded-t-2xl border-b-4 border-dotted border-darkGray",children:[e.jsx("div",{className:"w-full text-center bg-primary rounded-t-2xl p-6 text-white font-bold",children:e.jsx("span",{className:"font-bold text-4xl text-nowrap",children:n.restaurantName})}),e.jsxs("div",{className:"flex flex-col w-full items-center",children:[e.jsx("span",{className:"text-base -ml-44 text-nowrap",children:"식권 발급 시간"}),e.jsxs("div",{className:"flex text-2xl text-center font-semibold gap-8",children:[e.jsx("span",{className:"flex tracking-widest",children:(d=n==null?void 0:n.reservationTime)==null?void 0:d.split(" ")[0]}),e.jsx("span",{className:"flex tracking-widest",children:(m=(x=n==null?void 0:n.reservationTime)==null?void 0:x.split(" ")[1])==null?void 0:m.slice(0,5)})]})]}),e.jsxs("div",{className:"flex flex-col w-full items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:n.menuNames}),e.jsxs("span",{className:"text-4xl font-bold tracking-wider",children:[n.totalAmount.toLocaleString("ko-KR"),"원"]}),e.jsxs("span",{className:"text-xl",children:[n.personCount,"명 결제"]})]})]})}),e.jsx("section",{id:"info",children:e.jsx("div",{className:"p-10 flex flex-col justify-center items-center bg-gray rounded-b-2xl",children:e.jsx("div",{className:"flex w-full justify-center items-center ",children:e.jsx(b,{value:"http://112.222.157.156:5222/user/placetoorder",size:180,bgColor:"none"})})})}),e.jsx("div",{className:"text-xl underline text-center mt-10 pb-16",children:"예약 취소는 매장으로 문의해주세요"}),e.jsx(w,{})]})};export{D as default};
