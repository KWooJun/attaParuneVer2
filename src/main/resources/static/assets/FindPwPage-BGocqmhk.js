import{u as b,r as D,a as C,j as i}from"./index-DgvhuQLs.js";import{o as F,c as I,a as c}from"./index.esm-B93EDcIm.js";import{a as p}from"./index-CHcUfME0.js";import{u as L}from"./index.esm-ADTgdix5.js";import{I as R}from"./index-Bonc72oP.js";import{L as E}from"./Loading-mi2riH_p.js";import{L as P,H as $,C as k,F as B,T,I as h,S as u,Y as x,a as U}from"./loginStyle-wkVDl0VW.js";import{r as V,U as Y,S as A}from"./roleAtom-JDXEFqt3.js";import"./iconBase-BvS4BhiP.js";import"./emotion-styled.browser.esm-BHLZPLA4.js";import"./animation-DR5N1PjO.js";const H=I({id:c().min(6,"최소 6자 이상 작성해야 합니다.").max(12,"최대 12자까지 작성 가능합니다."),email:c().required("이메일은 필수입니다.").email("올바른 이메일 형식이 아닙니다.")});function X(){var m,d;const e=b(),[f,j]=D.useState(!1),r=C(V),{register:t,handleSubmit:g,formState:{errors:o},watch:n}=L({mode:"onChange",resolver:F(H)}),v=async s=>{try{r===Y?(await p.put("/api/user/find-passowrd",s),alert(`${s.email}로 비밀번호가 전송되었습니다.`),e("/auth")):r===A&&(await p.put("/api/admin/find-passowrd",s),alert(`${s.email}로 비밀번호가 전송되었습니다.`),e("/auth"))}catch(a){console.log(a)}},S=s=>{j(a=>!a),v(s)},w=n("id"),y=n("email"),l=w&&y;return i.jsxs("div",{children:[i.jsxs(P,{style:{position:"relative"},children:[i.jsx($,{children:i.jsx(k,{children:i.jsx(R,{style:{width:"100%",height:"100%",cursor:"pointer"},onClick:()=>e(-1)})})}),i.jsx(B,{children:i.jsxs("form",{onSubmit:g(S),children:[i.jsx(T,{children:"비밀번호 찾기"}),i.jsxs(h,{children:[i.jsx(u,{type:"text",placeholder:"아이디",...t("id")}),i.jsx(x,{children:(m=o.id)==null?void 0:m.message})]}),i.jsxs(h,{children:[i.jsx(u,{type:"email",placeholder:"이메일",...t("email")}),i.jsx(x,{children:(d=o.email)==null?void 0:d.message})]}),i.jsx("div",{style:{marginLeft:20,marginRight:20},children:i.jsx(U,{type:"submit",style:{backgroundColor:l?"#6F4CDB":"#ddd"},disabled:!l,children:"확인"})})]})})]}),f&&i.jsx(E,{})]})}export{X as default};
