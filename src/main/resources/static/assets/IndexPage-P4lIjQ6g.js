import{u,R as o,b as g,l as j,r as N,j as e,S as b}from"./index-8lJcAOoD.js";import{a as v}from"./index-CHcUfME0.js";import{I as w}from"./index-DAM17y8Z.js";import{M as y}from"./index-CbRQZVZ2.js";import{i as I,M as k}from"./MenuBar-BvMYZ1zJ.js";import{N as C}from"./NotificationIcon-CcJTZYcj.js";import{g as M,r as $,a as B}from"./cookie-DPYybHad.js";import"./iconBase-DY5zKqN8.js";import"./index-ZGoeDxM5.js";import"./index-Cng87bAU.js";import"./index-5ntvYec2.js";import"./index-D9TvFRBQ.js";function H(){const a=u(),[s,c]=o(g),[D,d]=o(I),[R,x]=o(j);d(!1);const l=window.sessionStorage.getItem("userId");N.useEffect(()=>{(async()=>{try{if(l){const r={userId:l},p=M(),n=await v.get("/api/user",{params:r,headers:{Authorization:`Bearer ${p}`}}),t=n.data.resultData,f=t.phone.replace(/[^0-9]/g,"").replace(/^(\d{0,3})(\d{0,4})(\d{0,4})$/g,"$1-$2-$3").replace(/(-{1,2})$/g,""),h=t.point.toLocaleString("ko-KR");console.log(t),console.log(n),c({...t,phone:f,point:h})}}catch(r){console.log(r)}})()},[]);const m=()=>{$(),B(),window.sessionStorage.removeItem("userId"),x(!1),b.fire({title:"로그아웃 되었습니다.",icon:"success",confirmButtonText:"확인",showConfirmButton:!0,allowOutsideClick:!1}).then(i=>{i.isConfirmed&&a("/user")})};return e.jsxs("div",{className:"h-dvh overflow-x-hidden overflow-y-scroll scrollbar-hide",children:[e.jsx(C,{}),e.jsxs("div",{className:"absolute top-0 left-0 w-full flex justify-between items-center px-3 py-5 border-b-2 border-gray border-opacity-70 bg-white",children:[e.jsx(w,{className:"text-3xl",onClick:()=>a(-1)}),e.jsx("span",{className:"text-xl font-semibold",children:"내 정보"}),e.jsx("span",{children:" "})]}),e.jsxs("div",{className:"flex flex-col h-dvh justify-around mt-24 gap-10",children:[e.jsxs("div",{className:"w-full h-[30%] flex flex-col items-center gap-4",children:[s.pic!==null?e.jsx("img",{src:s.pic,alt:"프로필 이미지",className:"w-32 rounded-full bg-auto"}):e.jsx("img",{src:"/profile.jpeg",alt:"프로필 이미지",className:"w-32 rounded-full bg-auto"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"pr-3",children:"사용가능 포인트"}),e.jsx("span",{className:"font-bold text-2xl",children:s.point})]}),e.jsxs("span",{className:"flex items-center gap-2 px-3 py-1 border-2 border-gray rounded-xl",children:[e.jsx(y,{className:"text-xl"}),s.email]})]}),e.jsx("div",{className:"h-[40%] flex justify-center items-center",children:e.jsxs("div",{className:"flex gap-5 items-center",children:[e.jsxs("div",{className:"flex flex-col gap-6 font-thin text-lg h-full text-darkGray",children:[e.jsx("span",{children:"이름"}),e.jsx("span",{children:"아이디"}),e.jsx("span",{children:"소속"}),e.jsx("span",{children:"휴대폰"})]}),e.jsxs("div",{className:"flex flex-col gap-6 font-medium text-lg h-full",children:[e.jsx("span",{children:s.name}),e.jsx("span",{children:s.uid}),e.jsx("span",{children:s.companyName}),e.jsx("span",{children:s.phone})]})]})}),e.jsxs("div",{className:"flex h-[20%] justify-center gap-5 mb-32",children:[e.jsx("div",{onClick:()=>a("/auth/editpw"),children:e.jsx("span",{className:"flex px-3 py-1 bg-primary rounded-lg text-white font-semibold text-center cursor-pointer",children:"비밀번호 변경"})}),e.jsx("div",{onClick:m,children:e.jsx("span",{className:"flex px-3 py-1 bg-primary rounded-lg text-white font-semibold text-center cursor-pointer",children:"로그아웃"})})]})]}),e.jsx(k,{})]})}export{H as default};
