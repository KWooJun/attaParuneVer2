import{u as f,r as a,j as e}from"./index-8lJcAOoD.js";import{a as d}from"./index-CHcUfME0.js";import{G as p}from"./iconBase-DY5zKqN8.js";import{b as u}from"./index-DAM17y8Z.js";import{M as y}from"./MenuBar-BvMYZ1zJ.js";import{I as g}from"./index-DPpmdUhZ.js";import{g as j}from"./cookie-DPYybHad.js";import b from"./QRCode-DMD5vuxf.js";import"./index-ZGoeDxM5.js";import"./index-Cng87bAU.js";function w(t){return p({attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M14.341 3.579c-0.347-0.473-0.831-1.027-1.362-1.558s-1.085-1.015-1.558-1.362c-0.806-0.591-1.197-0.659-1.421-0.659h-7.75c-0.689 0-1.25 0.561-1.25 1.25v13.5c0 0.689 0.561 1.25 1.25 1.25h11.5c0.689 0 1.25-0.561 1.25-1.25v-9.75c0-0.224-0.068-0.615-0.659-1.421zM12.271 2.729c0.48 0.48 0.856 0.912 1.134 1.271h-2.406v-2.405c0.359 0.278 0.792 0.654 1.271 1.134zM14 14.75c0 0.136-0.114 0.25-0.25 0.25h-11.5c-0.135 0-0.25-0.114-0.25-0.25v-13.5c0-0.135 0.115-0.25 0.25-0.25 0 0 7.749-0 7.75 0v3.5c0 0.276 0.224 0.5 0.5 0.5h3.5v9.75z"},child:[]}]})(t)}const z=()=>{f();const[t,l]=a.useState(!0),[x,v]=a.useState(0),[m,h]=a.useState([]),n=window.sessionStorage.getItem("userId"),i=j();return a.useEffect(()=>{const s={userId:n};(async()=>{try{const o=(await d.get("/api/user/pastOrderCheck",{params:s,headers:{Authorization:`Bearer ${i}`}})).data.resultData;console.log(o),h([...o])}catch(r){console.log(r)}})()},[]),a.useEffect(()=>{const s={userId:n};(async()=>{try{const r=await d.get("/api/user/activeOrderCheck",{params:s,headers:{Authorization:`Bearer ${i}`}});console.log(r.data.resultData);const o=r.data.resultData;console.log(o)}catch(r){console.log(r)}})()},[]),e.jsxs("div",{className:"w-full h-dvh flex flex-col justify-between overflow-hidden overflow-y-scroll scrollbar-hide mb-32",children:[e.jsxs("div",{className:"absolute top-0 left-0 w-full flex justify-between border-b-2 border-gray border-opacity-70 bg-white",children:[e.jsx("div",{onClick:()=>l(!t),className:`w-1/2 text-center text-xl font-semibold py-3 ${t?"border-b-2 border-black":"text-darkGray font-normal"}`,children:"진행 중인 주문"}),e.jsx("div",{onClick:()=>l(!t),className:`w-1/2 text-center text-xl font-semibold py-3 ${t?"text-darkGray font-normal":"border-b-2 border-black"}`,children:"지난 주문 내역"})]}),t?x>0?e.jsx(b,{}):e.jsxs("div",{className:"flex flex-col w-full h-dvh justify-center items-center gap-3",children:[e.jsx(w,{className:"text-8xl text-darkGray"}),e.jsx("span",{className:"text-2xl text-darkGray",children:"진행 중인 주문이 없습니다"}),e.jsxs("div",{onClick:()=>l(!1),className:"flex items-center gap-1 mt-3 text-xl border border-darkGray px-3 py-1 rounded-lg bg-white cursor-pointer",children:["지난 주문 내역 보기",e.jsx(g,{})]})]}):e.jsx("div",{className:"flex flex-col w-full h-dvh justify-start items-center gap-5 mt-20 scrollbar-hide",children:m.map((s,c)=>e.jsxs("div",{className:"w-full h-1/6 bg-white shadow-lg border-y border-y-gray",children:[e.jsxs("div",{className:"w-full h-1/4 flex justify-between items-center px-5 py-3",children:[e.jsx("span",{className:"text-darkGray",children:s.createdAt.slice(0)}),e.jsx("span",{className:"font-semibold",children:s.reservationYn>0?"예약주문":"현장결제"})]}),e.jsxs("div",{className:"w-full h-3/4 flex justify-start items-center gap-5 px-5",children:[e.jsx("img",{src:s.filePath===""?"/storeimg.png":`http://112.222.157.156:5222/pic/restaurant/${s==null?void 0:s.restaurantId}/${s==null?void 0:s.filePath}`,alt:"식당이미지",className:"w-16 h-16 rounded-xl"}),e.jsxs("div",{className:"flex flex-col w-[60%]",children:[e.jsxs("div",{className:"flex items-center gap-2 font-semibold text-2xl",children:[e.jsx("span",{children:s.restaurantName}),e.jsx(u,{})]}),e.jsxs("div",{className:"flex items-center gap-5 mt-1 justify-between",children:[e.jsx("span",{className:"text-nowrap",children:s.menuName.split(",").map(r=>r).slice(0,1)}),e.jsxs("span",{className:"text-nowrap",children:["주문 총 가격 ",s.menuTotalPrice.toLocaleString("ko-KR"),"원"]})]})]})]})]},c))}),e.jsx(y,{})]})};export{z as default};
